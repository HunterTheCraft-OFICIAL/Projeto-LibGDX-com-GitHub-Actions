name: LibGDX Environment Setup

on:
  workflow_dispatch:

jobs:
  check-env:
    name: Verificar e Logar Ambiente
    runs-on: ubuntu-latest

    steps:
      - name: ⬇️ Clonar o Repositório
        uses: actions/checkout@v3

      - name: ☕ Configurar Java 17
        uses: actions/setup-java@v3
        with:
          distribution: 'temurin'
          java-version: 17

      - name: 🧪 Verificar o ambiente e gerar log
        run: |
          echo "📅 Data: $(date)" > env-log.txt
          echo "🖥️ Sistema Operacional: $(uname -a)" >> env-log.txt
          echo "---" >> env-log.txt
          echo "☕ Versão do Java:" >> env-log.txt
          java -version >> env-log.txt 2>&1
          echo "---" >> env-log.txt
          echo "📦 Versão do Gradle:" >> env-log.txt
          gradle -v >> env-log.txt 2>&1 || echo "Gradle não está disponível" >> env-log.txt
          echo "---" >> env-log.txt
          echo "✅ Ambiente verificado com sucesso!" >> env-log.txt

      - name: 📎 Gerar artefato com log do ambiente
        uses: actions/upload-artifact@v3.1.3
        with:
          name: log-do-ambiente
          path: env-log.txt

