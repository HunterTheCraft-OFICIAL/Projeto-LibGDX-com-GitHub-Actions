name: LibGDX Environment Setup

on:
  workflow_dispatch:

jobs:
  check-env:
    name: Verificar e Logar Ambiente
    runs-on: ubuntu-latest

    steps:
      - name: â¬‡ï¸ Clonar o repositÃ³rio
        uses: actions/checkout@v3

      - name: â˜• Configurar Java 17
        uses: actions/setup-java@v3
        with:
          distribution: 'temurin'
          java-version: 17

      - name: ðŸ§ª Registrar data no log
        run: |
          echo "ðŸ“… Data: $(date)" > env-log.txt

      - name: ðŸ–¥ï¸ Registrar sistema no log
        run: |
          echo "ðŸ–¥ï¸ Sistema Operacional: $(uname -a)" >> env-log.txt

      - name: âž– Registrar separador no log
        run: |
          echo "---" >> env-log.txt

      - name: â˜• Registrar versÃ£o do Java no log
        run: |
          echo "VersÃ£o do Java:" >> env-log.txt
          java -version >> env-log.txt 2>&1

      - name: âž– Registrar separador no log
        run: |
          echo "---" >> env-log.txt

      - name: ðŸ“¦ Registrar versÃ£o do Gradle no log
        run: |
          echo "VersÃ£o do Gradle:" >> env-log.txt
          ./gradlew --version >> env-log.txt 2>&1 || echo "Gradle nÃ£o disponÃ­vel" >> env-log.txt

      - name: âž– Registrar separador final no log
        run: |
          echo "---" >> env-log.txt
          echo "âœ… Ambiente verificado com sucesso!" >> env-log.txt

      - name: ðŸ“Ž Gerar artefato com log do ambiente
        uses: actions/upload-artifact@v3.1.3
        with:
          name: log-do-ambiente
          path: env-log.txt
